# Generated by Home Manager.
# See https://sw.kovidgoyal.net/kitty/conf.html
font_family FiraCode Nerd Font
# italic_font family='FantasqueSansM Nerd Font Mono'
font_size 12.000000

include $HOME/.config/kitty/tokyo_night_night.conf

# Shell integration is sourced and configured manually
shell_integration no-rc

allow_remote_control yes
listen_on unix:/tmp/kitty.socket

background_opacity .70
background_tint 0.4
# background_image ~/oiolosse/home-manager/bbonsign/modules/wallpapers/nasa-89125.jpg
confirm_os_window_close 1
cursor #7aa2f7
cursor_trail 20
dynamic_background_opacity no
editor nvim
enable_audio_bell no
enabled_layouts tall, fat, splits, stack
hide_window_decorations no
inactive_text_alpha 0.55
macos_option_as_alt both
macos_quit_when_last_window_closed yes
shell nu
scrollback_indicator_opacity 1.0

tab_bar_edge top
tab_bar_min_tabs 1
tab_separator " "
tab_bar_style custom
tab_title_template {f" {index}"}Â·{title} {f"[{num_windows}]" if num_windows>1 and layout_name=="stack" else ""}

window_padding_width 2

# kitty-scrollback.nvim Kitten alias
action_alias kitty_scrollback_nvim kitten /var/home/bbonsign/.local/share/nvim/lazy/kitty-scrollback.nvim/python/kitty_scrollback_nvim.py
# Browse scrollback buffer in nvim
map kitty_mod+h kitty_scrollback_nvim
map alt+v kitty_scrollback_nvim
# Browse output of the last shell command in nvim
map kitty_mod+g kitty_scrollback_nvim --config ksb_builtin_last_cmd_output
# Show clicked command output in nvim
mouse_map ctrl+shift+right press ungrabbed combine : mouse_select_command_output : kitty_scrollback_nvim --config ksb_builtin_last_visited_cmd_output

# https://github.com/knubie/vim-kitty-navigator
map alt+j kitten pass_keys.py bottom alt+j 
map alt+k kitten pass_keys.py top    alt+k 
map alt+h kitten pass_keys.py left   alt+h 
map alt+l kitten pass_keys.py right  alt+l 

map ctrl+space>ctrl+space send_text all \x00\x00\x00
map ctrl+c copy_or_interrupt
map kitty_mod+0 change_font_size all 0
map kitty_mod+escape kitty_shell window
map kitty_mod+v paste_from_clipboard

map kitty_mod+, load_config_file
map kitty_mod+. load_config_file
map ctrl+space>shift+r load_config_file
map ctrl+space>ctrl+r load_config_file

map ctrl+space>b launch --type=tab btm
map ctrl+space>shift+g launch --type=tab --cwd=current lazygit
map ctrl+space>g>g launch --type=tab --cwd=current lazygit
map ctrl+space>g>b launch --type=tab --cwd=current lazygit branch
map ctrl+space>g>l launch --type=tab --cwd=current lazygit log
map ctrl+space>g>s launch --type=tab --cwd=current lazygit status
map ctrl+space>g>t launch --type=tab --cwd=current lazygit stash

map ctrl+space>/>/ kitten hints --type path --program -
map ctrl+space>/>f kitten hints --type path --program -
map ctrl+space>/>h kitten hints --type hash --program -
map ctrl+space>/>l kitten hints --type line --program -
map ctrl+space>/>n kitten hints --type=linenum --linenum-action=self nvim +{line} {path}
map ctrl+space>/>o kitten hints --type path --program -
map ctrl+space>/>u kitten hints
map ctrl+space>/>w kitten hints --type word --program -

map f1 create_marker
map ctrl+space>m>c create_marker
map ctrl+space>m>m remove_marker
map kitty_mod+p scroll_to_mark prev
map kitty_mod+n scroll_to_mark next

map ctrl+space>1 goto_tab 1
map ctrl+space>2 goto_tab 2
map ctrl+space>3 goto_tab 3
map ctrl+space>4 goto_tab 4
map ctrl+space>5 goto_tab 5
map ctrl+space>6 goto_tab 6
map ctrl+space>7 goto_tab 7
map ctrl+space>8 goto_tab 8
map ctrl+space>9 goto_tab 9
# switch back and forth between tabs
map alt+o remote_control focus-tab --match=recent:1
map alt+1 goto_tab 1
map alt+2 goto_tab 2
map alt+3 goto_tab 3
map alt+4 goto_tab 4
map alt+5 goto_tab 5
map alt+6 goto_tab 6
map alt+7 goto_tab 7
map alt+8 goto_tab 8
map alt+9 goto_tab 9
map alt+[ previous_tab
map alt+] next_tab
map kitty_mod+[ previous_tab
map kitty_mod+] next_tab
map ctrl+space>[ previous_tab
map ctrl+space>] next_tab
map ctrl+space>{ move_tab_backward
map ctrl+space>} move_tab_forward
map alt+shift+[ move_tab_backward
map alt+shift+] move_tab_forward
map ctrl+space>backspace kitty_shell window
map ctrl+space>ctrl+[ previous_tab
map ctrl+space>ctrl+] next_tab
map ctrl+space>ctrl+h neighboring_window left
map ctrl+space>ctrl+j neighboring_window down
map ctrl+space>ctrl+k neighboring_window up
map ctrl+space>ctrl+l neighboring_window right
map alt+t new_tab
map alt+r set_tab_title
map ctrl+space>ctrl+t new_tab
map ctrl+space>w>r start_resizing_window
map ctrl+space>ctrl+w>ctrl+r set_window_title
map ctrl+space>w>t>h detach_window tab-left
map ctrl+space>w>t>l detach_window tab-right
map ctrl+space>w>t>t detach_window new-tab
map ctrl+space>w>t>] detach_window new-tab
map ctrl+space>w>t>[ detach_window new-tab-left
# asks which tab to move the window into
map ctrl+f4 detach_tab tab-right

map ctrl+space>ctrl+w>ctrl+r start_resizing_window
map ctrl+space>ctrl+z last_used_layout
map ctrl+space>h neighboring_window left
map ctrl+space>j neighboring_window down
map ctrl+space>k neighboring_window up
map ctrl+space>l neighboring_window right
# map alt+h neighboring_window left
# map alt+j neighboring_window down
# map alt+k neighboring_window up
# map alt+l neighboring_window right
map ctrl+space>r set_tab_title
map ctrl+space>ctrl+return new_window_with_cwd
map ctrl+space>return new_window_with_cwd
# map alt+return new_window_with_cwd
map alt+n new_window_with_cwd
map alt+- launch --location=hsplit --cwd=current
map alt+| launch --location=vsplit --cwd=current
map ctrl+space>shift+h move_window left
map ctrl+space>shift+j move_window down
map ctrl+space>shift+k move_window up
map ctrl+space>shift+l move_window right
map alt+shift+h move_window left
map alt+shift+j move_window down
map alt+shift+k move_window up
map alt+shift+l move_window right

map ctrl+space>space>backspace last_used_layout
map ctrl+space>space>g goto_layout grid
map ctrl+space>space>h goto_layout fat
map ctrl+space>space>p last_used_layout
map ctrl+space>space>s goto_layout splits
map alt+z toggle_layout stack
map ctrl+space>space>space next_layout
map ctrl+space>space>t goto_layout tall
map ctrl+space>space>v goto_layout tall
map ctrl+space>space>z goto_layout stack
map ctrl+space>t>1 goto_tab 1
map ctrl+space>t>2 goto_tab 2
map ctrl+space>t>3 goto_tab 3
map ctrl+space>t>4 goto_tab 4
map ctrl+space>t>5 goto_tab 5
map ctrl+space>t>6 goto_tab 6
map ctrl+space>t>7 goto_tab 7
map ctrl+space>t>8 goto_tab 8
map ctrl+space>t>9 goto_tab 9
map ctrl+space>t>r set_tab_title
map ctrl+space>t>s select_tab
map ctrl+space>t>n new_tab
map ctrl+space>t>t new_tab
map ctrl+space>ctrl+t new_tab
map alt+, select_tab
map ctrl+space>v launch --location=vsplit --cwd=current 
map ctrl+space>h launch --location=hsplit --cwd=current 
map ctrl+space>- launch --location=hsplit --cwd=current 
map ctrl+space>| launch --location=hsplit --cwd=current 
map ctrl+space>z goto_layout stack

map alt+a remote_control launch --type overlay ~/.local/bin/kitty-switch.nu
map alt+s remote_control launch --type overlay ~/.local/bin/kitty-switch.nu

map --when-focus-on title:iex return send_key alt+return
map --when-focus-on title:iex up send_key alt+up
map --when-focus-on title:iex down send_key alt+down
